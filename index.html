<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PURC Validation Reports</title>
  <!-- FontAwesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      font-family: 'Century Schoolbook', serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: linear-gradient(120deg, #004080, #c8102e);
      color: #000;
    }

    .container {
      padding: 40px;
      border-radius: 20px;
      background-color: #fff;
      max-width: 1000px;
      width: 95%;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
      text-align: center;
      position: relative;
    }

    .logo {
      width: 120px;
      margin-bottom: 10px;
    }

    h1 {
      color: #004080;
      font-size: 2.2em;
      margin: 10px 0 20px;
      font-weight: bold;
      position: relative;
    }

    h1::after {
      content: "";
      display: block;
      width: 80px;
      height: 4px;
      margin: 10px auto 0;
      background: linear-gradient(to right, #004080, #c8102e);
      border-radius: 2px;
    }

    .range-section {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 30px;
    }

    .range-box {
      flex: 1;
      min-width: 220px;
      padding: 20px;
      border-radius: 12px;
      background: #f9f9f9;
      box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.05);
      text-align: left;
    }

    .range-box label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #c8102e;
    }

    select {
      width: 100%;
      padding: 12px;
      font-size: 1em;
      border: 2px solid #004080;
      border-radius: 8px;
      background-color: #fff;
      color: #000;
      appearance: none;
      background-image: url("data:image/svg+xml;utf8,<svg fill='%23004080' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    select:hover, select:focus {
      border-color: #c8102e;
      outline: none;
      box-shadow: 0 0 5px rgba(200, 16, 46, 0.5);
    }

    button {
      padding: 14px 35px;
      font-size: 1.2em;
      background: linear-gradient(135deg, #004080, #c8102e);
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
      box-shadow: 0 5px 12px rgba(0, 0, 0, 0.2);
    }

    button:hover {
      background: linear-gradient(135deg, #c8102e, #004080);
      transform: translateY(-2px);
    }

    .error-message {
      color: #c8102e;
      font-weight: bold;
      margin-top: 20px;
      font-size: 1.1em;
      display: none;
    }

    .report-list {
      margin-top: 30px;
      display: none;
      font-size: 1em;
      text-align: left;
      border-radius: 12px;
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 12px 15px;
      border: 1px solid #ddd;
      text-align: left;
    }

    th {
      background: #004080;
      color: #fff;
    }

    tr:nth-child(even) {
      background: #f9f9f9;
    }

    tr:hover {
      background: #eef4ff;
    }

    a {
      text-decoration: none;
      color: #004080;
      font-weight: 600;
    }

    a:hover {
      text-decoration: underline;
      color: #c8102e;
    }

    .pdf-icon {
      color: #c8102e;
      margin-right: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- PURC Logo -->
    <a href="https://www.purc.com.gh" target="_blank">
      <img src="purc-logo.png" alt="PURC Logo" class="logo">
    </a>

    <h1>Cash Waterfall Mechanism Validation Reports</h1>

    <div class="range-section">
      <div class="range-box">
        <label>FROM</label>
        <select id="start-year"></select>
        <select id="start-month"></select>
      </div>
      <div class="range-box">
        <label>TO</label>
        <select id="end-year"></select>
        <select id="end-month"></select>
      </div>
    </div>

    <button onclick="searchReports()">Search</button>
    <div class="error-message" id="error-message"></div>

    <!-- Report List -->
    <div class="report-list" id="report-list"></div>
  </div>

  <script>
    const reports = {
              "202505": [
                { title: "Validation Report for May 2025", url: "https://www.purc.com.gh/attachment/784097-20250718120748.pdf"}
            ],
              "202504": [
                { title: "Validation Report for April 2025", url: "https://www.purc.com.gh/attachment/571082-20250623110610.pdf"}
            ],
              "202503": [
                { title: "Validation Report for March 2025", url: "https://www.purc.com.gh/attachment/289510-20250528060504.pdf"}
            ],
              "202502": [
                { title: "Validation Report for February 2025", url: "https://www.purc.com.gh/attachment/252620-20250422010424.pdf"}
            ],
              "202501": [
                { title: "Validation Report for January 2025", url: "https://www.purc.com.gh/attachment/450651-20250415120442.pdf"}
            ],
                "202412": [
                { title: "Validation Report for December 2024", url: "https://www.purc.com.gh/attachment/704747-20250403110425.pdf"}
            ],
                   "202411": [
                { title: "Validation Report for November 2024", url: "https://www.purc.com.gh/attachment/664125-20250401100434.pdf"}
            ],
                    "202410": [
                { title: "Validation Report for October 2024", url: "https://www.purc.com.gh/attachment/521403-20241219011220.pdf"}
            ],
                     "202409": [
                { title: "Validation Report for September 2024", url: "https://www.purc.com.gh/attachment/490018-20240912100927.pdf"}
            ],
                 "202408": [
                { title: "Validation Report for August 2024", url: "https://www.purc.com.gh/attachment/340423-20240812100953.pdf" }
            ],

                "202407": [
                { title: "Validation Report for July 2024", url: "https://www.purc.com.gh/attachment/421992-20240702010727.pdf" }
            ],

               "202406": [
                { title: "Validation Report for June 2024", url: "https://www.purc.com.gh/attachment/490018-20240912100927.pdf" }
            ],

               "202405": [
                { title: "Validation Report for May 2024", url: "https://www.purc.com.gh/attachment/340423-20240912100953.pdf" }
            ],

             "202404": [
                { title: "Validation Report for April 2024", url: "https://www.purc.com.gh/attachment/421992-20240702010727.pdf" }
            ],

            "202403": [
                { title: "Validation Report for March 2024", url: "https://www.purc.com.gh/attachment/28072-20240528120524.pdf" }
            ],
 
            "202402": [
                { title: "Validation Report for Febuary 2024", url: "https://www.purc.com.gh/attachment/977865-20240418100455.pdf" }
            ],
            "202401": [
                { title: "Validation Report for January 2024", url: "https://www.purc.com.gh/attachment/880899-20240309080337.pdf" }
            ],
            "202312": [
                { title: "Validation Report for December 2023", url: "https://www.purc.com.gh/attachment/485159-20240124070114.pdf" }
            ],"202311": [
                { title: "Validation Report for November 2023", url: "https://www.purc.com.gh/attachment/854471-20240123120122.pdf" }
            ],
            "202310": [
                { title: "Validation Report for October 2023", url: "https://www.purc.com.gh/attachment/306406-20240124070142.pdf" }
            ],
            "202309": [
                { title: "Validation Report for September 2023", url: "https://www.purc.com.gh/attachment/593654-20231023111027.pdf" }
            ],
            "202308": [
                { title: "Validation Report for August 2023", url: "https://www.purc.com.gh/attachment/617670-20231010111021.pdf" }
            ],
        };


    function getMonthsWithReports(year) {
      return Object.keys(reports)
        .filter(date => date.startsWith(year))
        .map(date => date.slice(4, 6));
    }

    function populateYearMonth() {
      const currentYear = new Date().getFullYear();
      const startYearSelect = document.getElementById('start-year');
      const endYearSelect = document.getElementById('end-year');
      const startMonthSelect = document.getElementById('start-month');
      const endMonthSelect = document.getElementById('end-month');
      const allMonths = ["January","February","March","April","May","June","July","August","September","October","November","December"];

     for (let year = currentYear; year >= 2023; year--) {
    const yearOption = document.createElement('option');
    yearOption.value = year;
    yearOption.textContent = year;
    startYearSelect.appendChild(yearOption.cloneNode(true));
    endYearSelect.appendChild(yearOption);
}

      function populateMonths(selectElement, year) {
        selectElement.innerHTML = "";
        const monthsWithReports = getMonthsWithReports(year);
        monthsWithReports.forEach(month => {
          const monthOption = document.createElement('option');
          monthOption.value = month;
          monthOption.textContent = allMonths[parseInt(month, 10) - 1];
          selectElement.appendChild(monthOption);
        });
      }

      populateMonths(startMonthSelect, currentYear.toString());
      populateMonths(endMonthSelect, currentYear.toString());

      startYearSelect.addEventListener('change', () => populateMonths(startMonthSelect, startYearSelect.value));
      endYearSelect.addEventListener('change', () => populateMonths(endMonthSelect, endYearSelect.value));
    }

    function searchReports() {
      const startYear = document.getElementById('start-year').value;
      const startMonth = document.getElementById('start-month').value;
      const endYear = document.getElementById('end-year').value;
      const endMonth = document.getElementById('end-month').value;
      const startDate = `${startYear}${startMonth}`;
      const endDate = `${endYear}${endMonth}`;
      const reportList = document.getElementById('report-list');
      const errorMessage = document.getElementById('error-message');

      reportList.innerHTML = '';
      reportList.style.display = 'none';
      errorMessage.style.display = 'none';

      if (startDate > endDate) {
        errorMessage.textContent = "Start date cannot be after end date.";
        errorMessage.style.display = 'block';
        return;
      }

      const matchingReports = Object.entries(reports)
        .filter(([date]) => date >= startDate && date <= endDate)
        .flatMap(([_, reportArray]) => reportArray);

      if (matchingReports.length > 0) {
        let table = `<table><thead><tr><th>Report Title</th><th>Download</th></tr></thead><tbody>`;
        matchingReports.forEach(report => {
          table += `<tr>
            <td>${report.title}</td>
            <td><a href="${report.url}" target="_blank"><i class="fas fa-file-pdf pdf-icon"></i>PDF</a></td>
          </tr>`;
        });
        table += `</tbody></table>`;
        reportList.innerHTML = table;
        reportList.style.display = 'block';
      } else {
        errorMessage.textContent = "No reports found in the selected range.";
        errorMessage.style.display = 'block';
      }
    }

    window.onload = () => populateYearMonth();
  </script>
</body>
</html>
